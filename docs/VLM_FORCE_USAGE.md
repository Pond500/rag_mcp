# ЁЯдЦ р╕Бр╕▓р╕гр╕Ър╕▒р╕Зр╕Др╕▒р╕Ър╣Гр╕Кр╣Й Gemini VLM р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Чр╕╡р╣Ир╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щ

## ЁЯУЛ р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Юр╕Ъ

р╣Ар╕бр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣М PDF р╕бр╕╡р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Чр╕╡р╣Ир╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щ р╣Ар╕Кр╣Ир╕Щ:
- р╕Хр╕▓р╕гр╕▓р╕Зр╕лр╕ер╕▓р╕вр╕Кр╕▒р╣Йр╕Щ
- р╕ар╕▓р╕Юр╕бр╕▓р╕Б
- Layout р╣Бр╕Ър╕Ъ Multi-column
- р╕Яр╕нр╕Щр╕Хр╣Мр╕Юр╕┤р╣Ар╕ир╕йр╕лр╕гр╕╖р╕нр╕ар╕▓р╕йр╕▓р╕Чр╕╡р╣Ир╕лр╕ер╕▓р╕Бр╕лр╕ер╕▓р╕в

Fast Extraction (Level 1) р╕нр╕▓р╕Ир╕Ир╕░р╕кр╕Бр╕▒р╕Фр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕нр╕нр╕Бр╕бр╕▓р╣Др╕Фр╣Йр╣Др╕бр╣Ир╕Фр╕╡ р╣Ар╕лр╣Зр╕Щр╣Бр╕Хр╣Ир╕нр╕▒р╕Бр╕Вр╕гр╕░р╣Бр╕Ыр╕ер╕Бр╣Ж р╣Ар╕Кр╣Ир╕Щ:
```
b ▐й р▒║ ▐б р▒║ ▐б р▒║ р▒║ р▒║ р▒║ ▐б ▐б р▒║ ▐б р▒║ ▐й р▒║ р▒║ р▒║ р▒║
```

## тЬЕ р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╣Др╕В

### 1. **р╣Гр╕Кр╣Й Checkbox "р╕Ър╕▒р╕Зр╕Др╕▒р╕Ър╣Гр╕Кр╣Й Gemini VLM"**

р╣Гр╕Щр╕лр╕Щр╣Йр╕▓ Web UI р╕Ир╕░р╕бр╕╡ checkbox р╕кр╕╡р╣Ар╕лр╕ер╕╖р╕нр╕З:

```
тШСя╕П ЁЯдЦ р╕Ър╕▒р╕Зр╕Др╕▒р╕Ър╣Гр╕Кр╣Й Gemini VLM
р╣Гр╕Кр╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕бр╕╡р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щ р╕бр╕╡р╕Хр╕▓р╕гр╕▓р╕З р╕лр╕гр╕╖р╕нр╕ар╕▓р╕Юр╕бр╕▓р╕Б (р╣Гр╕Кр╣Й API quota р╕бр╕▓р╕Бр╕Бр╕зр╣Ир╕▓)
```

**р╕зр╕┤р╕Шр╕╡р╣Гр╕Кр╣Й:**
1. тЬЕ **р╣Ар╕Кр╣Зр╕Д checkbox** р╕Бр╣Ир╕нр╕Щр╣Ар╕ер╕╖р╕нр╕Бр╣Др╕Яр╕ер╣М
2. ЁЯУО р╣Ар╕ер╕╖р╕нр╕Бр╣Др╕Яр╕ер╣М PDF р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г
3. ЁЯдЦ р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Вр╣Йр╕▓р╕б Fast Extraction р╣Др╕Ыр╣Гр╕Кр╣Й Gemini VLM р╣Вр╕Фр╕вр╕Хр╕гр╕З
4. тЬи р╣Др╕Фр╣Йр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Чр╕╡р╣Ир╕кр╕Бр╕▒р╕Фр╕нр╕нр╕Бр╕бр╕▓р╕Др╕╕р╕Ур╕ар╕▓р╕Юр╕кр╕╣р╕З

### 2. **р╕Вр╣Йр╕нр╕Др╕зр╕гр╕гр╕░р╕зр╕▒р╕З**

тЪая╕П **API Quota Usage**
- VLM р╣Гр╕Кр╣Й API quota р╕бр╕▓р╕Бр╕Бр╕зр╣Ир╕▓ Fast Extraction р╕Ыр╕гр╕░р╕бр╕▓р╕У **5-10 р╣Ар╕Чр╣Ир╕▓**
- р╣Бр╕Щр╕░р╕Щр╕│р╣Гр╕лр╣Йр╣Гр╕Кр╣Йр╕Бр╕▒р╕Ър╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Чр╕╡р╣Ир╕кр╕│р╕Др╕▒р╕Нр╕лр╕гр╕╖р╕нр╕Чр╕╡р╣И Fast Extraction р╕ер╣Йр╕бр╣Ар╕лр╕ер╕з
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ quota р╣Др╕Фр╣Йр╕Чр╕╡р╣И: https://aistudio.google.com/apikey

тЪая╕П **р╣Ар╕зр╕ер╕▓р╣Гр╕Щр╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕е**
- VLM р╣Гр╕Кр╣Йр╣Ар╕зр╕ер╕▓р╕Щр╕▓р╕Щр╕Бр╕зр╣Ир╕▓ (5-15 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡р╕Хр╣Ир╕нр╕лр╕Щр╣Йр╕▓)
- Fast Extraction р╣Гр╕Кр╣Йр╣Ар╕зр╕ер╕▓р╣Ар╕Юр╕╡р╕вр╕З 1-2 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡р╕Хр╣Ир╕нр╕лр╕Щр╣Йр╕▓

## ЁЯФД р╣Ар╕бр╕╖р╣Ир╕нр╣Др╕лр╕гр╣Ир╕Др╕зр╕гр╣Гр╕Кр╣Йр╣Бр╕Хр╣Ир╕ер╕░р╣Вр╕лр╕бр╕Ф

### тЬЕ р╣Гр╕Кр╣Й Fast Extraction (р╕Ыр╕Бр╕Хр╕┤ - р╣Др╕бр╣Ир╣Ар╕Кр╣Зр╕Д checkbox)
- тЬЕ р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Шр╕гр╕гр╕бр╕Фр╕▓
- тЬЕ PDF р╕Чр╕╡р╣Ир╕бр╕▓р╕Ир╕▓р╕Б Word/Google Docs
- тЬЕ р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕бр╕╡ text layer р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з
- тЬЕ р╣Ар╕бр╕╖р╣Ир╕нр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕лр╕вр╕▒р╕Ф API quota
- тЬЕ р╣Ар╕бр╕╖р╣Ир╕нр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Др╕зр╕▓р╕бр╣Ар╕гр╣Зр╕з

### ЁЯдЦ р╣Гр╕Кр╣Й VLM (р╣Ар╕Кр╣Зр╕Д checkbox)
- ЁЯдЦ PDF р╕Чр╕╡р╣И Scan р╕бр╕▓р╕Ир╕▓р╕Бр╕Бр╕гр╕░р╕Фр╕▓р╕й
- ЁЯдЦ р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Чр╕╡р╣Ир╕бр╕╡р╕Хр╕▓р╕гр╕▓р╕Зр╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щ
- ЁЯдЦ р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕бр╕╡р╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╣Бр╕ер╕░р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Ыр╕Щр╕Бр╕▒р╕Щ
- ЁЯдЦ р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Чр╕╡р╣Ир╕бр╕╡ Layout р╕лр╕ер╕▓р╕вр╕Др╕нр╕ер╕▒р╕бр╕Щр╣М
- ЁЯдЦ р╣Ар╕бр╕╖р╣Ир╕н Fast Extraction р╣Гр╕лр╣Йр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Чр╕╡р╣Ир╣Бр╕вр╣И
- ЁЯдЦ р╕Яр╕нр╕Щр╕Хр╣Мр╕Юр╕┤р╣Ар╕ир╕йр╕лр╕гр╕╖р╕нр╕ар╕▓р╕йр╕▓р╕Ьр╕кр╕б

## ЁЯФз Technical Details

### р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ

```python
# р╕Ыр╕Бр╕Хр╕┤ (force_vlm=False)
Level 1 (Fast) тЖТ р╕Хр╕гр╕зр╕Ир╕Др╕╕р╕Ур╕ар╕▓р╕Ю тЖТ р╕Цр╣Йр╕▓ < 0.75 тЖТ Level 2 (VLM)

# р╣Ар╕бр╕╖р╣Ир╕нр╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ VLM (force_vlm=True)
р╕Вр╣Йр╕▓р╕б Level 1 тЖТ р╣Гр╕Кр╣Й Level 2 (VLM) р╕Чр╕▒р╕Щр╕Чр╕╡
```

### Configuration

р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Гр╕Щ `.env`:
```bash
# Gemini API Configuration
GEMINI_API_KEY=your_api_key_here
GEMINI_MODEL=gemini-2.0-flash-exp

# Quality Thresholds
LEVEL1_THRESHOLD=0.75  # р╕Цр╣Йр╕▓р╕Хр╣Ир╕│р╕Бр╕зр╣Ир╕▓р╕Щр╕╡р╣Йр╕Ир╕░р╣Гр╕Кр╣Й VLM
LEVEL2_THRESHOLD=0.70  # VLM р╕Хр╣Йр╕нр╕Зр╣Др╕Фр╣Йр╕Др╕░р╣Бр╕Щр╕Щр╕Вр╕▒р╣Йр╕Щр╕Хр╣Ир╕│

# Image Quality
IMAGE_DPI=300          # DPI р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕Ыр╕ер╕З PDF тЖТ Image
```

## ЁЯУК р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### тЭМ р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╣Бр╕вр╣Ир╕Ир╕▓р╕Б Fast Extraction
```
b ▐й р▒║ ▐б р▒║ ▐б р▒║ р▒║ р▒║ р▒║ ▐б ▐б р▒║ ▐б
╙Ы╙╣╙е╙в╙╡╙Ц╙Э╙╢
╙п╙╡╙л╙п╙Э╘Й╙╢╘В╙И╙з╙Л╙Е╙╢╙з
```

### тЬЕ р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Фр╕╡р╕Ир╕▓р╕Б VLM
```
р╕Ър╕Чр╕Др╕зр╕▓р╕бр╕зр╕┤р╕Ир╕▒р╕в

р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╣Ар╕Чр╕Др╣Вр╕Щр╣Вр╕ер╕вр╕╡ Virtual Reality р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕кр╕│р╕гр╕зр╕И
р╣Бр╕ер╕░р╕Бр╕▓р╕гр╕Бр╕╣р╣Йр╕ар╕▒р╕вр╣Гр╕Щр╕кр╕Цр╕▓р╕Щр╕Бр╕▓р╕гр╕Ур╣Мр╕Йр╕╕р╕Бр╣Ар╕Йр╕┤р╕Щ

Utilizing Virtual Reality Technology for Driving 
Exploration Vehicles and Disaster Rescue Operations
```

## ЁЯЪА р╕зр╕┤р╕Шр╕╡р╣Ар╕гр╕┤р╣Ир╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

1. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Gemini API Key**
   ```bash
   # р╣Ар╕Кр╣Зр╕Др╣Гр╕Щ .env
   cat .env | grep GEMINI_API_KEY
   ```

2. **р╣Ар╕гр╕┤р╣Ир╕б Web Server**
   ```bash
   python web/app.py
   ```

3. **р╣Ар╕Ыр╕┤р╕Фр╣Ар╕Ър╕гр╕▓р╕зр╣Мр╣Ар╕Лр╕нр╕гр╣М**
   ```
   http://localhost:5001
   ```

4. **р╕Чр╕Фр╕кр╕нр╕Ъ**
   - р╕ер╕нр╕Зр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣Мр╣Вр╕Фр╕вр╣Др╕бр╣Ир╣Ар╕Кр╣Зр╕Д checkbox р╕Бр╣Ир╕нр╕Щ
   - р╕Цр╣Йр╕▓р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╣Др╕бр╣Ир╕Фр╕╡ тЖТ р╣Ар╕Кр╣Зр╕Д checkbox тЖТ р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Гр╕лр╕бр╣И

## ЁЯУИ р╕Бр╕▓р╕гр╕зр╕▒р╕Фр╕Др╕╕р╕Ур╕ар╕▓р╕Ю

р╕гр╕░р╕Ър╕Ър╕зр╕▒р╕Фр╕Др╕╕р╕Ур╕ар╕▓р╕Юр╕Ир╕▓р╕Б 5 р╕бр╕┤р╕Хр╕┤:

1. **Text Quality** (40%) - р╕нр╕▒р╕Бр╕Вр╕гр╕░р╕Чр╕╡р╣Ир╕нр╣Ир╕▓р╕Щр╣Др╕Фр╣Й
2. **Word Quality** (20%) - р╕Др╕│р╕Чр╕╡р╣Ир╕бр╕╡р╕Др╕зр╕▓р╕бр╕лр╕бр╕▓р╕в
3. **Consistency** (15%) - р╕Др╕зр╕▓р╕бр╕кр╕бр╣Ир╕│р╣Ар╕кр╕бр╕нр╕Вр╕нр╕Зр╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓
4. **Structure** (15%) - р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕нр╕Бр╕кр╕▓р╕г
5. **Content Density** (10%) - р╕Др╕зр╕▓р╕бр╕лр╕Щр╕▓р╣Бр╕Щр╣Ир╕Щр╕Вр╕нр╕Зр╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓

р╕Др╕░р╣Бр╕Щр╕Щр╕гр╕зр╕б:
- ЁЯЯв 0.85-1.00: р╕вр╕нр╕Фр╣Ар╕вр╕╡р╣Ир╕вр╕б
- ЁЯЯб 0.70-0.85: р╕Фр╕╡ (р╕Юр╕нр╣Гр╕Кр╣Йр╣Др╕Фр╣Й)
- ЁЯЯа 0.50-0.70: р╕Юр╕нр╣Гр╕Кр╣Й (р╕Др╕зр╕гр╣Гр╕Кр╣Й VLM)
- ЁЯФ┤ < 0.50: р╣Бр╕вр╣И (р╕Др╕зр╕гр╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ VLM)

## ЁЯЖШ Troubleshooting

### р╕Ыр╕▒р╕Нр╕лр╕▓: "Gemini API quota exceeded"
**р╣Бр╕Бр╣Йр╣Др╕В:**
1. р╕гр╕н quota reset (р╕Чр╕╕р╕Б 24 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З)
2. р╣Гр╕Кр╣Й API key р╣Гр╕лр╕бр╣И
3. р╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Ф plan р╣Ар╕Ыр╣Зр╕Щ paid
4. р╕ер╕Фр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ VLM (р╣Др╕бр╣Ир╣Ар╕Кр╣Зр╕Д checkbox)

### р╕Ыр╕▒р╕Нр╕лр╕▓: VLM р╣Гр╕Кр╣Йр╣Ар╕зр╕ер╕▓р╕Щр╕▓р╕Щ
**р╕Ыр╕Бр╕Хр╕┤:**
- PDF 10 р╕лр╕Щр╣Йр╕▓ тЙИ 1-2 р╕Щр╕▓р╕Чр╕╡
- PDF р╕Чр╕╡р╣Ир╕бр╕╡р╕ар╕▓р╕Юр╕бр╕▓р╕Б тЙИ 3-5 р╕Щр╕▓р╕Чр╕╡

### р╕Ыр╕▒р╕Нр╕лр╕▓: р╕вр╕▒р╕Зр╣Др╕Фр╣Йр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╣Др╕бр╣Ир╕Фр╕╡р╣Бр╕бр╣Йр╣Гр╕Кр╣Й VLM
**р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:**
1. р╕Др╕╕р╕Ур╕ар╕▓р╕Юр╕Вр╕нр╕З PDF р╕Хр╣Йр╕Щр╕Йр╕Ър╕▒р╕Ъ (р╕Цр╣Йр╕▓р╣Ар╕Ър╕ер╕нр╕бр╕▓р╕Бр╣Ар╕Бр╕┤р╕Щр╣Др╕Ы AI р╕Бр╣Зр╕нр╣Ир╕▓р╕Щр╣Др╕бр╣Ир╣Др╕Фр╣Й)
2. р╕ер╕нр╕З DPI р╕кр╕╣р╕Зр╕Бр╕зр╣Ир╕▓ (300 тЖТ 600) р╣Гр╕Щ `.env`
3. р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▒р╕Ъ model р╕нр╕╖р╣Ир╕Щ (gemini-1.5-pro)

---

**р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Щр╕╡р╣Йр╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕ер╣Ир╕▓р╕кр╕╕р╕Ф:** December 17, 2025  
**Version:** 2.0 (with Force VLM checkbox)
